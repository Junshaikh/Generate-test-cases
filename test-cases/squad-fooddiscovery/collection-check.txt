@P0 @smoke @login

Background:
    Given the user is logged in to the Talabat app
    And the user has a Talabat Pro subscription
    And the user is on the home screen

Scenario: Verify food collections are displayed on the home screen
    When the user navigates to the "Food" tab
    Then the "Popular Restaurants" collection is displayed
    And the "Deals Near You" collection is displayed
    And the "New on Talabat" collection is displayed
    And the "Healthy Options" collection is displayed
    And the "Breakfast & Brunch" collection is displayed

Scenario: Verify each food collection displays relevant restaurants
    When the user navigates to the "Food" tab
    Then each restaurant in the "Popular Restaurants" collection should have a high rating
    And each restaurant in the "Deals Near You" collection should have active promotions
    And each restaurant in the "New on Talabat" collection should be recently added
    And each restaurant in the "Healthy Options" collection should offer healthy food options
    And each restaurant in the "Breakfast & Brunch" collection should serve breakfast items

Scenario: Verify tapping on a food collection navigates to the restaurant listing page
    When the user navigates to the "Food" tab
    And the user taps on the "Popular Restaurants" collection
    Then the user is navigated to a restaurant listing page
    And the restaurant listing page displays restaurants from the "Popular Restaurants" collection

Scenario: Verify no food collections are displayed when there are no nearby restaurants
    Given there are no restaurants available for delivery in the user's location
    When the user navigates to the "Food" tab
    Then no food collections are displayed

Scenario: Verify food collections are personalized based on user order history
    Given the user has previously ordered from Italian restaurants
    When the user navigates to the "Food" tab
    Then the "Recommended Italian" collection is displayed
    And the "Recommended Italian" collection contains Italian restaurants

Scenario: Verify food collections are displayed in the correct order
    When the user navigates to the "Food" tab
    Then the "Popular Restaurants" collection is displayed at the top
    And the "Deals Near You" collection is displayed after the "Popular Restaurants" collection

Scenario: Verify UI elements of food collection
    When the user navigates to the "Food" tab
    Then the food collection has a title text
    And the food collection displays images of restaurants
    And the food collection displays names of restaurants

Scenario: Verify empty state of food collection when no restaurants are in it.
    Given there are no restaurants which are "Halal Options"
    When the user navigates to the "Food" tab
    Then the "Halal Options" Collection should be displayed
    And the "Halal Options" Collection should display an "Empty State"
    And the "Empty State" should contain text: "No Halal Restaurants Available"